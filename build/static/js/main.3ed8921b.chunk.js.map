{"version":3,"sources":["services/PersonServices.js","App.js","index.js"],"names":["baseUrl","spreadElements","create","newObject","axios","post","then","response","data","catch","error","getAll","get","deleting","id","delete","update","put","request","Notification","message","errorStyle","color","background","fontStyle","borderStyle","borderRadius","padding","marginBottom","style","anotherStyle","search","Person","text","number","deleteButton","DeleteButton","onClick","Filter","handleFilterChange","filterName","value","onChange","PersonForm","addPersons","newName","handleNameChange","newNumber","handleNumberChange","onSubmit","required","type","Persons","query","persons","array","map","x","name","data123","filter","el","toLowerCase","indexOf","bye","includes","App","useState","setPersons","setNewName","setNewNumber","setFilterName","errorMessage","setErrorMessage","useEffect","service","target","e","preventDefault","personObj","length","console","log","returnedPerson","concat","setTimeout","window","confirm","PersonObj","find","n","updatePersonObj","person","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.3ed8921b.chunk.js","sourcesContent":["import axios from 'axios';\n\nconst baseUrl = '/api/persons'\n\nconst create = newObject => {\n    const request = axios.post(baseUrl, newObject);\n    return request\n        .then(response => response.data)\n        .catch(error => error.response.data);\n};\nconst getAll = () => {\n    const request = axios.get(baseUrl);\n    return request\n        .then(response => response.data)\n        .catch(error => error.response.data);\n\n};\n\nconst deleting = (id) => {\n    const request = axios.delete(`${baseUrl}/${id}`)\n    return request.then(response => {\n        response.data = id;\n        return response.data;\n    }).catch(error => error.response.data);\n}\nconst update = (id, newObject) => {\n    const request = axios.put(`${baseUrl}/${id}`, newObject)\n    return request\n        .then(request => request.data)\n        .catch(error => error.response.data);\n\n};\nconst spreadElements = {create, getAll, deleting, update};\nexport default spreadElements","import React, {useEffect, useState} from 'react';\nimport service from './services/PersonServices'\n\nconst Notification = ({message}) => {\n    if (message === null) {\n        return null\n    }\n    const errorStyle = {\n        color: 'green',\n        background: 'lightgrey',\n        fontStyle: '20px',\n        borderStyle: 'solid',\n        borderRadius: '5px',\n        padding: '10px',\n        marginBottom: '10px',\n    };\n\n    const style = {...errorStyle, color: 'blue',background:'aqua'}\n    const anotherStyle = {...style, color: 'red', background: 'pink'}\n    if (message.search(\"Added\") !== -1) {\n        return (\n            <div style={style}>\n                {message}\n            </div>\n        )\n    }else if (message.search(\"deleted\") !== -1) {\n        return (\n            <div style={anotherStyle}>\n                {message}\n            </div>\n        )\n    } else {\n        return (\n            <div style={errorStyle}>\n                {message}\n            </div>\n        );\n    }\n}\nconst Person = ({text, number, id, deleteButton}) => {\n    return (\n        <li>{text} {number}\n            <DeleteButton\n                id={id}\n                deleteButton={deleteButton}\n            />\n        </li>\n    );\n}\nconst DeleteButton = ({id, deleteButton}) => {\n\n    return (<button onClick={() => deleteButton(id)}>Delete</button>);\n\n};\nconst Filter = ({handleFilterChange, filterName}) => {\n    return (\n        <>\n            filter shown with <input value={filterName} onChange={handleFilterChange}/>\n        </>\n    );\n};\nconst PersonForm = ({addPersons, newName, handleNameChange, newNumber, handleNumberChange}) => {\n\n    return (<form onSubmit={addPersons}>\n        <div>\n            name: <input value={newName} onChange={handleNameChange} required/><br/>\n        </div>\n        <div>\n            number: <input type=\"tel\" value={newNumber} onChange={handleNumberChange} required/>\n        </div>\n        <div>\n            <button type=\"submit\">add</button>\n        </div>\n    </form>);\n};\nconst Persons = ({persons, filterName, deleteButton}) => {\n    const filterItems = (arr, query) => {\n        return arr.filter((el) => {\n            return el.toLowerCase().indexOf(query.toLowerCase()) !== -1;\n        });\n    }\n    const array = persons.map(x => x.name);\n    const data123 = filterItems(array, filterName);\n    let Callback = (x) => {\n        if (data123.includes(x.name)) return x.name\n    };\n    let bye = persons.filter(Callback)\n    return (\n        <ol>\n            {bye.map(x =>\n                <Person\n                    key={x.id}\n                    id={x.id}\n                    text={x.name}\n                    number={x.number}\n                    deleteButton={deleteButton}\n                />)\n            }\n        </ol>\n    );\n}\nconst App = () => {\n    const [persons, setPersons] = useState([])\n    const [newName, setNewName] = useState('')\n    const [newNumber, setNewNumber] = useState('');\n    const [filterName, setFilterName] = useState('');\n    const [errorMessage, setErrorMessage] = useState(null)\n\n    const addPersons = (e) => {\n        e.preventDefault();\n\n        const personObj = {\n            name: newName,\n            number: newNumber,\n            id: persons.length + 1,\n        }\n\n        const filter = persons.filter(x => x.name === newName);\n        console.log(filter);\n        if (filter.length === 0) {\n            service\n                .create(personObj)\n                .then(returnedPerson => {\n                    setPersons(persons.concat(returnedPerson));\n                    setNewName('');\n                    setNewNumber('');\n                    setErrorMessage(`Added '${returnedPerson.name}'`)\n                    setTimeout(() => {\n                        setErrorMessage(null)\n                    }, 5000)\n                })\n                .catch(error => setErrorMessage(error.response.data));\n        } else {\n            const result = window.confirm(`${filter[0].name} is already added to phonebook,replace the old number with a new one?`)\n            if (result) {\n                const id = filter[0].id;\n                // console.log('-------------------------------', id);\n                const PersonObj = persons.find(n => n.id === id)\n                const updatePersonObj = {...PersonObj, number: newNumber};\n                // console.log(\"Obj----\", updatePersonObj);\n                service\n                    .update(id, updatePersonObj)\n                    .then(response => {\n                        const map = persons.map(person => person.id !== id ? person : response);\n                        setPersons(map)\n                        setErrorMessage(`Updated '${updatePersonObj.name}' to ${updatePersonObj.number}`)\n                        setNewName('');\n                        setNewNumber('');\n                        setTimeout(() => {\n                            setErrorMessage(null);\n                        }, 5000)\n                    })\n                    .catch((error) => {\n                        setPersons(persons.filter(n => n.id !== id));\n                        setErrorMessage(error.response.data);\n                    });\n            }\n        }\n    };\n    const hook = () => {\n        service\n            .getAll()\n            .then(persons =>\n                setPersons(persons)\n            )\n    };\n    useEffect(hook, []);\n\n    const handleNameChange = ({target}) => setNewName(target.value);\n    const handleNumberChange = ({target}) => setNewNumber(target.value);\n    const handleFilterChange = ({target}) => setFilterName(target.value);\n    const handleDeleteButton = (id) => {\n\n        const result = window.confirm(\"Do you really want to delete this entry?\")\n        if (result) {\n            service\n                .deleting(id)\n                .then(id => {\n                    setPersons(persons.filter(person => person.id !== id))\n                })\n                .catch(() => {\n                    setErrorMessage(`This entry was already deleted`)\n                    setTimeout(() => {\n                        setErrorMessage(null)\n                    }, 5000)\n                    setPersons(persons.filter(n => n.id !== id))\n                })\n        }\n\n    };\n\n\n    return (\n        <div>\n            <h2>Phonebook</h2>\n            <Notification message={errorMessage}/>\n            <Filter filterName={filterName} handleFilterChange={handleFilterChange}/>\n            <h3>Add a new contact</h3>\n            <PersonForm\n                addPersons={addPersons}\n                handleNameChange={handleNameChange}\n                handleNumberChange={handleNumberChange}\n                newName={newName}\n                newNumber={newNumber}\n            />\n            <h3>Numbers</h3>\n            <Persons\n                persons={persons}\n                setPersons={setPersons}\n                filterName={filterName}\n                deleteButton={handleDeleteButton}\n            />\n        </div>\n    );\n}\n\nexport default App","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}