{"version":3,"sources":["services/PersonServices.js","App.js","index.js"],"names":["baseUrl","spreadElements","create","newObject","axios","post","then","response","data","getAll","get","deleting","id","delete","update","put","Notification","message","errorStyle","color","background","fontStyle","borderStyle","borderRadius","padding","marginBottom","style","anotherStyle","search","Person","text","number","deleteButton","DeleteButton","onClick","Filter","handleFilterChange","filterName","value","onChange","PersonForm","addPersons","newName","handleNameChange","newNumber","handleNumberChange","onSubmit","required","type","Persons","query","persons","array","map","x","name","data123","filter","el","toLowerCase","indexOf","bye","includes","App","useState","setPersons","setNewName","setNewNumber","setFilterName","errorMessage","setErrorMessage","useEffect","service","target","e","preventDefault","personObj","length","returnedPerson","concat","setTimeout","window","confirm","PersonObj","find","n","updatePersonObj","person","catch","error","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.d23445fe.chunk.js","sourcesContent":["import axios from 'axios';\n\nconst baseUrl = '/api/persons'\n\nconst create = newObject => {\n    const request = axios.post(baseUrl, newObject);\n    return request.then(response => response.data);\n};\nconst getAll = () => {\n    const request = axios.get(baseUrl);\n    return request.then(response => response.data);\n};\n\nconst deleting = (id) =>{\n    const request = axios.delete(`${baseUrl}/${id}`)\n    return request.then(response => {\n        response.data = id;\n        return response.data;\n    });\n}\nconst update = (id, newObject) => {\n    const request = axios.put(`${baseUrl}/${id}`, newObject)\n    return request.then(response => response.data);\n};\nconst spreadElements = {create, getAll, deleting,update};\nexport default spreadElements","import React, {useState, useEffect} from 'react';\nimport service from './services/PersonServices'\n\nconst Notification = ({message}) => {\n    if (message === null) {\n        return null\n    }\n    const errorStyle = {\n        color: 'green',\n        background: 'lightgrey',\n        fontStyle: '20px',\n        borderStyle: 'solid',\n        borderRadius: '5px',\n        padding: '10px',\n        marginBottom: '10px',\n    };\n\n    const style = {...errorStyle, color: 'blue',background:'aqua'}\n    const anotherStyle = {...style, color: 'red', background: 'pink'}\n    if (message.search(\"Added\") !== -1) {\n        return (\n            <div style={style}>\n                {message}\n            </div>\n        )\n    }else if (message.search(\"deleted\") !== -1) {\n        return (\n            <div style={anotherStyle}>\n                {message}\n            </div>\n        )\n    } else {\n        return (\n            <div style={errorStyle}>\n                {message}\n            </div>\n        );\n    }\n}\nconst Person = ({text, number, id, deleteButton}) => {\n    return (\n        <li>{text} {number}\n            <DeleteButton\n                id={id}\n                deleteButton={deleteButton}\n            />\n        </li>\n    );\n}\nconst DeleteButton = ({id, deleteButton}) => {\n\n    return (<button onClick={() => deleteButton(id)}>Delete</button>);\n\n};\nconst Filter = ({handleFilterChange, filterName}) => {\n    return (\n        <>\n            filter shown with <input value={filterName} onChange={handleFilterChange}/>\n        </>\n    );\n};\nconst PersonForm = ({addPersons, newName, handleNameChange, newNumber, handleNumberChange}) => {\n\n    return (<form onSubmit={addPersons}>\n        <div>\n            name: <input value={newName} onChange={handleNameChange} required/><br/>\n        </div>\n        <div>\n            number: <input type=\"tel\" value={newNumber} onChange={handleNumberChange} required/>\n        </div>\n        <div>\n            <button type=\"submit\">add</button>\n        </div>\n    </form>);\n};\nconst Persons = ({persons, filterName, deleteButton}) => {\n    const filterItems = (arr, query) => {\n        return arr.filter((el) => {\n            return el.toLowerCase().indexOf(query.toLowerCase()) !== -1;\n        });\n    }\n    const array = persons.map(x => x.name);\n    const data123 = filterItems(array, filterName);\n    let Callback = (x) => {\n        if (data123.includes(x.name)) return x.name\n    };\n    let bye = persons.filter(Callback)\n    return (\n        <ol>\n            {bye.map(x =>\n                <Person\n                    key={x.id}\n                    id={x.id}\n                    text={x.name}\n                    number={x.number}\n                    deleteButton={deleteButton}\n                />)\n            }\n        </ol>\n    );\n}\nconst App = () => {\n    const [persons, setPersons] = useState([])\n    const [newName, setNewName] = useState('')\n    const [newNumber, setNewNumber] = useState('');\n    const [filterName, setFilterName] = useState('');\n    const [errorMessage, setErrorMessage] = useState(null)\n\n    const addPersons = (e) => {\n        e.preventDefault();\n\n        const personObj = {\n            name: newName,\n            number: newNumber,\n            id: persons.length + 1,\n        }\n\n        const filter = persons.filter(x => x.name === newName);\n        if (filter.length === 0) {\n            service\n                .create(personObj)\n                .then(returnedPerson => {\n                    setPersons(persons.concat(returnedPerson));\n                    setNewName('');\n                    setNewNumber('');\n                    setErrorMessage(`Added '${returnedPerson.name}'`)\n                    setTimeout(() => {\n                        setErrorMessage(null)\n                    }, 5000)\n                })\n        } else {\n            const result = window.confirm(`${filter[0].name} is already added to phonebook,replace the old number with a new one?`)\n            if (result) {\n                const id = filter[0].id;\n                const PersonObj = persons.find(n => n.id === id)\n                const updatePersonObj = {...PersonObj, number: newNumber};\n                service\n                    .update(id, updatePersonObj)\n                    .then(response => {\n                        setPersons(\n                            persons\n                                .map(person => person.id !== id ? person : response)\n                        )\n                        setErrorMessage(`Updated '${updatePersonObj.name}' to ${updatePersonObj.number}`)\n                        setTimeout(() => {\n                            setErrorMessage(null)\n                        }, 5000)\n\n                    })\n                    .catch(error => {\n\n                        setPersons(persons\n                            .filter(n => n.id !== id)\n                        );\n                    });\n            }\n        }\n    };\n    const hook = () => {\n        service\n            .getAll()\n            .then(persons =>\n                setPersons(persons)\n            )\n    };\n    useEffect(hook, []);\n\n    const handleNameChange = ({target}) => setNewName(target.value);\n    const handleNumberChange = ({target}) => setNewNumber(target.value);\n    const handleFilterChange = ({target}) => setFilterName(target.value);\n    const handleDeleteButton = (id) => {\n\n        const result = window.confirm(\"Do you really want to delete this entry?\")\n        if (result) {\n            service\n                .deleting(id)\n                .then(id => {\n                    setPersons(persons.filter(person => person.id !== id))\n                })\n                .catch(error => {\n                    setErrorMessage(`This entry was already deleted`)\n                    setTimeout(() => {\n                        setErrorMessage(null)\n                    }, 5000)\n                    setPersons(persons.filter(n => n.id !== id))\n                })\n        }\n\n    };\n\n\n    return (\n        <div>\n            <h2>Phonebook</h2>\n            <Notification message={errorMessage}/>\n            <Filter filterName={filterName} handleFilterChange={handleFilterChange}/>\n            <h3>Add a new contact</h3>\n            <h4>input result: {filterName}</h4>\n            <PersonForm\n                addPersons={addPersons}\n                handleNameChange={handleNameChange}\n                handleNumberChange={handleNumberChange}\n                newName={newName}\n                newNumber={newNumber}\n            />\n            <h3>Numbers</h3>\n            <Persons\n                persons={persons}\n                setPersons={setPersons}\n                filterName={filterName}\n                deleteButton={handleDeleteButton}\n            />\n        </div>\n    );\n}\n\nexport default App","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}